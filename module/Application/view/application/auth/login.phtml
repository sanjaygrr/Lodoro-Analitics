<?php
// module/Application/view/application/auth/login.phtml

$this->headTitle('Iniciar Sesión');
$this->layout('layout/login');

// Preparar el formulario
$form = $this->form;
$form->prepare();
?>

<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <div class="login-logo">Lodoro Analytics</div>
            <div class="login-subtitle">Panel de Administración</div>
        </div>
        
        <div class="login-body">
            <?php if ($this->error): ?>
                <div class="alert alert-danger">
                    <?= $this->escapeHtml($this->error) ?>
                </div>
            <?php endif; ?>
            
            <?= $this->form()->openTag($form) ?>
            
            <div class="form-group">
                <?= $this->formLabel($form->get('username')) ?>
                <?= $this->formElement($form->get('username')) ?>
                <?= $this->formElementErrors($form->get('username')) ?>
            </div>
            
            <div class="form-group">
                <?= $this->formLabel($form->get('password')) ?>
                <?= $this->formElement($form->get('password')) ?>
                <?= $this->formElementErrors($form->get('password')) ?>
            </div>
            
            <div class="form-group">
                <div class="form-check">
                    <?php if ($form->has('remember_me')): ?>
                        <?= $this->formElement($form->get('remember_me')) ?>
                        <?= $this->formLabel($form->get('remember_me')) ?>
                    <?php endif; ?>
                </div>
            </div>
            
            <div class="form-group">
                <?= $this->formSubmit($form->get('submit')) ?>
            </div>
            
            <?= $this->form()->closeTag() ?>
        </div>
        
        <div class="login-footer">
            &copy; <?= date('Y') ?> Lodoro Analytics. Todos los derechos reservados.
        </div>
    </div>
</div>